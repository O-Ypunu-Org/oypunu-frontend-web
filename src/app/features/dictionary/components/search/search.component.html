<div class="min-h-screen bg-gray-950 text-white flex flex-col">

  <!-- ‚îÄ‚îÄ‚îÄ Zone sup√©rieure (header + barre de recherche + feature bar) ‚îÄ‚îÄ‚îÄ -->
  <div class="w-full max-w-3xl mx-auto px-4 sm:px-6 pt-4 sm:pt-6 pb-2">

    <!-- Header : masqu√© pendant la recherche active -->
    <div *ngIf="!searchQuery" class="mb-4 sm:mb-5">
      <h1 class="text-2xl sm:text-3xl font-bold text-gray-100">üìñ Dictionnaire</h1>
      <p class="text-sm sm:text-base text-gray-400 mt-1">Explorez les mots des langues africaines</p>
    </div>

    <!-- Barre de recherche -->
    <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="mb-3 sm:mb-4">
      <div class="relative flex items-center gap-2">
        <!-- Champ texte -->
        <div class="relative flex-1">
          <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
              clip-rule="evenodd" />
          </svg>
          <input type="text" formControlName="query" placeholder="Rechercher un mot..."
            class="w-full pl-9 pr-10 py-2.5 sm:py-3 bg-gray-800 border border-gray-700 rounded-xl
                   text-sm sm:text-base text-gray-100 placeholder-gray-500
                   focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent transition-colors" />
          <!-- Bouton effacer -->
          <button *ngIf="searchQuery" type="button" (click)="clearSearch()"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd" />
            </svg>
          </button>
        </div>

        <!-- Bouton filtres -->
        <button type="button" (click)="showFilterModal = true"
          class="relative flex-shrink-0 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center
                 rounded-xl bg-gray-800 border border-gray-700 hover:bg-gray-700 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-300" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.553.894l-4 2A1 1 0 016 17v-5.586L3.293 6.707A1 1 0 013 6V3z"
              clip-rule="evenodd" />
          </svg>
          <!-- Badge nombre de filtres actifs -->
          <span *ngIf="activeFiltersCount > 0"
            class="absolute -top-1 -right-1 min-w-[16px] h-4 px-1 flex items-center justify-center
                   rounded-full bg-purple-600 text-white text-[10px] font-semibold leading-none">
            {{ activeFiltersCount }}
          </span>
        </button>
      </div>
    </form>

    <!-- Feature bar : 5 boutons avec cercles d'ic√¥nes -->
    <div class="flex justify-around items-start py-2 mb-1">

      <!-- Mot du jour -->
      <button type="button" (click)="onFeatureBarSelect('wordOfTheDay')"
        class="flex flex-col items-center gap-1.5 group min-w-0">
        <div class="w-11 h-11 sm:w-12 sm:h-12 rounded-full flex items-center justify-center
                    bg-primary-100 group-hover:bg-primary-200 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
        </div>
        <span class="text-[10px] sm:text-xs text-gray-400 text-center leading-tight max-w-[56px]">Mot du jour</span>
      </button>

      <!-- Historique -->
      <button type="button" (click)="onFeatureBarSelect('history')"
        class="flex flex-col items-center gap-1.5 group min-w-0">
        <div class="w-11 h-11 sm:w-12 sm:h-12 rounded-full flex items-center justify-center
                    bg-primary-100 group-hover:bg-primary-200 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
        </div>
        <span class="text-[10px] sm:text-xs text-gray-400 text-center leading-tight max-w-[56px]">Historique</span>
      </button>

      <!-- Favoris -->
      <button type="button" (click)="onFeatureBarSelect('favorites')"
        class="flex flex-col items-center gap-1.5 group min-w-0">
        <div class="w-11 h-11 sm:w-12 sm:h-12 rounded-full flex items-center justify-center
                    bg-primary-100 group-hover:bg-primary-200 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
          </svg>
        </div>
        <span class="text-[10px] sm:text-xs text-gray-400 text-center leading-tight max-w-[56px]">Favoris</span>
      </button>

      <!-- Index des mots -->
      <button type="button" (click)="onFeatureBarSelect('wordIndex')"
        class="flex flex-col items-center gap-1.5 group min-w-0">
        <div class="w-11 h-11 sm:w-12 sm:h-12 rounded-full flex items-center justify-center
                    bg-primary-100 group-hover:bg-primary-200 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
        </div>
        <span class="text-[10px] sm:text-xs text-gray-400 text-center leading-tight max-w-[56px]">Index des mots</span>
      </button>

      <!-- Mot al√©atoire -->
      <button type="button" (click)="onFeatureBarSelect('randomWord')"
        class="flex flex-col items-center gap-1.5 group min-w-0">
        <div class="w-11 h-11 sm:w-12 sm:h-12 rounded-full flex items-center justify-center
                    bg-primary-100 group-hover:bg-primary-200 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <polyline points="16 3 21 3 21 8"></polyline>
            <line x1="4" y1="20" x2="21" y2="3"></line>
            <polyline points="21 16 21 21 16 21"></polyline>
            <line x1="15" y1="15" x2="21" y2="21"></line>
          </svg>
        </div>
        <span class="text-[10px] sm:text-xs text-gray-400 text-center leading-tight max-w-[56px]">Mot al√©atoire</span>
      </button>

    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ S√©parateur ‚îÄ‚îÄ‚îÄ -->
  <div class="w-full border-t border-gray-800"></div>

  <!-- ‚îÄ‚îÄ‚îÄ Zone de contenu ‚îÄ‚îÄ‚îÄ -->
  <div class="flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6 pb-24">

    <!-- Mot du jour -->
    <div *ngIf="isShowingWordOfDay">
      <!-- Chargement -->
      <div *ngIf="wordOfDayLoading" class="flex flex-col items-center justify-center py-16 gap-3">
        <div class="w-10 h-10 border-2 border-gray-700 border-t-purple-600 rounded-full animate-spin"></div>
        <p class="text-sm text-gray-400">Chargement du mot du jour‚Ä¶</p>
      </div>

      <!-- Erreur -->
      <div *ngIf="!wordOfDayLoading && wordOfDayError"
        class="flex flex-col items-center justify-center py-16 gap-4 text-center">
        <p class="text-sm text-red-400">{{ wordOfDayError }}</p>
        <button type="button" (click)="onFeatureBarSelect('wordOfTheDay')"
          class="text-sm text-purple-400 hover:text-purple-300 transition-colors">
          R√©essayer
        </button>
      </div>

      <!-- Mot du jour affich√© -->
      <div *ngIf="!wordOfDayLoading && !wordOfDayError && wordOfDayWord" class="max-w-2xl mx-auto">
        <!-- Bandeau date -->
        <div class="flex items-center justify-between mb-3">
          <div class="flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span class="text-sm font-semibold text-purple-600 capitalize">{{ wordOfDayDate }}</span>
          </div>
          <button type="button" (click)="closeWordOfDay()"
            class="text-gray-400 hover:text-gray-200 transition-colors p-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd" />
            </svg>
          </button>
        </div>
        <app-word-card [word]="wordOfDayWord"></app-word-card>
      </div>
    </div>

    <!-- Historique de consultations -->
    <div *ngIf="!isShowingWordOfDay && isShowingHistory">

      <!-- En-t√™te -->
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-base font-semibold text-gray-200">Mots consult√©s</h2>
        <div class="flex items-center gap-1">
          <!-- Tout effacer -->
          <button *ngIf="historyItems.length > 0" type="button" (click)="clearAllHistory()"
            class="text-gray-500 hover:text-red-400 transition-colors p-1.5 rounded-lg hover:bg-gray-800"
            title="Tout effacer">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"></path>
              <path d="M10 11v6M14 11v6"></path>
              <path d="M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"></path>
            </svg>
          </button>
          <!-- Fermer -->
          <button type="button" (click)="isShowingHistory = false"
            class="text-gray-400 hover:text-gray-200 transition-colors p-1.5 rounded-lg hover:bg-gray-800">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Chargement -->
      <div *ngIf="historyLoading" class="flex flex-col items-center justify-center py-12 gap-3">
        <div class="w-8 h-8 border-2 border-gray-700 border-t-purple-600 rounded-full animate-spin"></div>
        <p class="text-sm text-gray-400">Chargement de l'historique‚Ä¶</p>
      </div>

      <!-- Erreur -->
      <div *ngIf="!historyLoading && historyError" class="text-center py-12">
        <p class="text-sm text-red-400">{{ historyError }}</p>
        <button type="button" (click)="retryHistoryLoad()" class="mt-2 text-sm text-purple-400 hover:text-purple-300 transition-colors">
          R√©essayer
        </button>
      </div>

      <!-- Vide -->
      <div *ngIf="!historyLoading && !historyError && historyItems.length === 0"
        class="flex flex-col items-center justify-center py-12 gap-3 text-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <p class="text-sm text-gray-500">Aucun mot consult√© pour le moment.</p>
      </div>

      <!-- Liste : 1 col mobile, 2 col tablette, 3 col desktop -->
      <div *ngIf="!historyLoading && historyItems.length > 0"
        class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3">
        <div *ngFor="let item of historyItems"
          (click)="onHistoryItemClick(item)"
          class="bg-gray-900 hover:bg-gray-800 rounded-xl p-4 border border-gray-800 cursor-pointer transition-colors">
          <div class="flex items-start gap-3">
            <div class="flex-1 min-w-0">

              <!-- Mot + langue + bouton suppression -->
              <div class="flex items-start justify-between gap-2 mb-1">
                <div class="min-w-0">
                  <p class="text-base font-semibold text-gray-100 leading-tight">{{ item.word }}</p>
                  <p *ngIf="item.language" class="text-xs text-gray-500 mt-0.5">{{ item.language }}</p>
                </div>
                <button type="button" (click)="deleteHistoryItem($event, item.id)"
                  class="flex-shrink-0 text-gray-600 hover:text-red-400 transition-colors p-0.5 mt-0.5 rounded">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"></path>
                    <path d="M10 11v6M14 11v6"></path>
                    <path d="M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"></path>
                  </svg>
                </button>
              </div>

              <!-- D√©finition preview -->
              <p *ngIf="item.definition" class="text-sm text-gray-400 mb-2 line-clamp-2">
                {{ item.definition }}
              </p>

              <!-- M√©tadonn√©es -->
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-1 bg-primary-100 px-2 py-0.5 rounded-md">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                  </svg>
                  <span class="text-xs text-purple-600">
                    {{ item.viewCount }} consultation{{ item.viewCount > 1 ? 's' : '' }}
                  </span>
                </div>
                <span class="text-xs text-gray-500">{{ formatHistoryDate(item.lastViewedAt) }}</span>
              </div>

            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- Contenu principal (liste de mots / r√©sultats) -->
    <div *ngIf="!isShowingWordOfDay && !isShowingHistory">

      <!-- En-t√™te section selon le mode -->
      <div *ngIf="!searchQuery && (recentWords.length > 0 || popularWords.length > 0)" class="mb-4">
        <h2 class="text-xs font-semibold text-gray-500 uppercase tracking-widest">
          {{ recentWords.length > 0 ? 'Mots r√©cents' : 'Mots populaires' }}
        </h2>
      </div>

      <!-- En-t√™te r√©sultats de recherche -->
      <div *ngIf="searchQuery && searchResults && !isSearching" class="mb-4">
        <p class="text-xs text-gray-500">
          <span class="text-gray-300 font-medium">{{ searchResults.total }}</span>
          r√©sultat{{ searchResults.total > 1 ? 's' : '' }} pour
          ¬´ <span class="text-gray-300">{{ searchQuery }}</span> ¬ª
        </p>
      </div>

      <!-- Chargement initial -->
      <div *ngIf="isLoadingContent" class="flex flex-col items-center justify-center py-16 gap-3">
        <div class="w-10 h-10 border-2 border-gray-700 border-t-purple-600 rounded-full animate-spin"></div>
        <p class="text-sm text-gray-400">Chargement‚Ä¶</p>
      </div>

      <!-- Erreur -->
      <div *ngIf="hasError && !isLoadingContent"
        class="flex flex-col items-center justify-center py-16 gap-4 text-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="12"></line>
          <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        <p class="text-sm text-red-400">{{ loadError }}</p>
        <button type="button" (click)="retryLoad()"
          class="text-sm text-purple-400 hover:text-purple-300 transition-colors">
          R√©essayer
        </button>
      </div>

      <!-- Vide -->
      <div *ngIf="isEmpty && !isLoadingContent && !hasError"
        class="flex flex-col items-center justify-center py-16 gap-3 text-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <p class="text-sm text-gray-500" *ngIf="!searchQuery">Aucun mot disponible pour le moment.</p>
        <p class="text-sm text-gray-500" *ngIf="searchQuery">
          Aucun r√©sultat pour ¬´ <span class="text-gray-300">{{ searchQuery }}</span> ¬ª
        </p>
      </div>

      <!-- Spinner pendant une nouvelle recherche (si des r√©sultats existent d√©j√†) -->
      <div *ngIf="isSearching && searchResults" class="flex items-center gap-2 mb-4">
        <div class="w-4 h-4 border-2 border-gray-700 border-t-purple-600 rounded-full animate-spin"></div>
        <span class="text-xs text-gray-400">Mise √† jour des r√©sultats‚Ä¶</span>
      </div>

      <!-- Grille de mots : 1 col mobile, 2 col desktop (‚â•1024px), 3 col wide desktop (‚â•1536px) -->
      <div *ngIf="!isLoadingContent && displayWords.length > 0"
        class="grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-4">
        <app-word-card
          *ngFor="let word of displayWords"
          [word]="word">
        </app-word-card>
      </div>

      <!-- Pagination (seulement en mode recherche) -->
      <div *ngIf="searchResults && searchResults.totalPages > 1"
        class="flex justify-center items-center gap-2 mt-6">
        <button type="button" [disabled]="currentPage <= 1" (click)="onPageChange(currentPage - 1)"
          class="px-4 py-2 text-sm rounded-xl bg-gray-800 border border-gray-700 text-gray-300
                 disabled:opacity-40 disabled:cursor-not-allowed hover:bg-gray-700 transition-colors">
          ‚Üê Pr√©c√©dent
        </button>
        <span class="text-sm text-gray-400 px-2">{{ currentPage }} / {{ searchResults.totalPages }}</span>
        <button type="button" [disabled]="currentPage >= searchResults.totalPages" (click)="onPageChange(currentPage + 1)"
          class="px-4 py-2 text-sm rounded-xl bg-gray-800 border border-gray-700 text-gray-300
                 disabled:opacity-40 disabled:cursor-not-allowed hover:bg-gray-700 transition-colors">
          Suivant ‚Üí
        </button>
      </div>

    </div>

  </div>

  <!-- ‚îÄ‚îÄ‚îÄ FAB : Ajouter un mot (contributeurs+) ‚îÄ‚îÄ‚îÄ -->
  <a *ngIf="isContributor" [routerLink]="['/dictionary/add']"
    class="fixed bottom-6 right-6 w-14 h-14 flex items-center justify-center
           rounded-full bg-purple-600 hover:bg-purple-700 shadow-xl transition-colors z-30">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd"
        d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
        clip-rule="evenodd" />
    </svg>
  </a>

  <!-- ‚îÄ‚îÄ‚îÄ Modale de filtres ‚îÄ‚îÄ‚îÄ -->
  <div *ngIf="showFilterModal"
    class="fixed inset-0 z-50 flex items-end sm:items-center justify-center">
    <!-- Overlay -->
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" (click)="showFilterModal = false"></div>

    <!-- Panneau de filtres -->
    <div class="relative w-full sm:max-w-lg bg-gray-900 rounded-t-2xl sm:rounded-2xl
                border border-gray-800 shadow-2xl p-6 z-10 max-h-[90vh] overflow-y-auto">

      <!-- En-t√™te modale -->
      <div class="flex items-center justify-between mb-5">
        <h3 class="text-lg font-semibold text-gray-100">Filtres de recherche</h3>
        <button type="button" (click)="showFilterModal = false"
          class="text-gray-400 hover:text-gray-200 transition-colors p-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>

      <!-- Formulaire de filtres -->
      <div [formGroup]="filterForm">
        <!-- Langues -->
        <div class="mb-5">
          <label class="block text-sm font-medium text-gray-300 mb-2">Langues</label>
          <app-custom-dropdown
            formControlName="languages"
            [options]="languageOptions"
            [multiple]="true"
            [placeholder]="'Toutes les langues'"
            [closeOnSelect]="false">
          </app-custom-dropdown>
        </div>

        <!-- Cat√©gories -->
        <div class="mb-5">
          <label class="block text-sm font-medium text-gray-300 mb-2">Cat√©gories</label>
          <app-custom-dropdown
            formControlName="categories"
            [options]="categoryOptions"
            [multiple]="true"
            [placeholder]="'Toutes les cat√©gories'"
            [closeOnSelect]="false">
          </app-custom-dropdown>
        </div>

        <!-- Types de mots -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-300 mb-2">Type de mot</label>
          <app-custom-dropdown
            formControlName="partsOfSpeech"
            [options]="partOfSpeechOptions"
            [multiple]="true"
            [placeholder]="'Tous les types'"
            [closeOnSelect]="false">
          </app-custom-dropdown>
        </div>
      </div>

      <!-- Boutons -->
      <div class="flex gap-3">
        <button type="button"
          (click)="resetFilters()"
          class="flex-1 py-2.5 rounded-xl border border-gray-700 text-sm text-gray-300
                 hover:bg-gray-800 transition-colors">
          R√©initialiser
        </button>
        <button type="button"
          (click)="applyFilters(); showFilterModal = false"
          class="flex-1 py-2.5 rounded-xl bg-purple-600 hover:bg-purple-700 text-sm text-white font-medium transition-colors">
          Appliquer
        </button>
      </div>
    </div>
  </div>

</div>
